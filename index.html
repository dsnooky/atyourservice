<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GlobalViral News</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif}
body{background:#f4f6f8}
header{
  background:#0b5ed7;color:#fff;padding:15px 20px;
  display:flex;flex-wrap:wrap;gap:10px;align-items:center
}
header h1{flex:1;font-size:22px}
select,input{
  padding:8px;border-radius:6px;border:none
}
.container{padding:25px}
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:20px
}
.card{
  background:#fff;border-radius:12px;overflow:hidden;
  box-shadow:0 10px 25px rgba(0,0,0,.08);
  transition:.3s
}
.card:hover{transform:translateY(-6px)}
.card img{width:100%;height:180px;object-fit:cover}
.card-content{padding:15px}
.card-content h3{font-size:17px;margin-bottom:8px}
.card-content span{font-size:12px;color:#888}
.card-content a{color:#0b5ed7;font-weight:600}
.loading{text-align:center;padding:30px}
footer{
  background:#111;color:#aaa;text-align:center;
  padding:20px;margin-top:40px
}
</style>
</head>

<body>

<header>
  <h1>üåç GlobalViral</h1>

  <select id="country">
    <option value="us">USA</option>
    <option value="gb">UK</option>
    <option value="ph">Philippines</option>
    <option value="ca">Canada</option>
    <option value="au">Australia</option>
  </select>

  <input type="text" id="search" placeholder="Search viral news...">
</header>

<section class="container">
  <div id="news" class="grid"></div>
  <div id="loading" class="loading">Loading viral news...</div>
</section>

<footer>
  ¬© 2025 GlobalViral News
</footer>

<script>
const API_KEY = "PUT_YOUR_API_KEY_HERE";
let country = "us";

async function loadNews(query=""){
  document.getElementById("news").innerHTML="";
  document.getElementById("loading").style.display="block";

  let url = query
    ? `https://newsapi.org/v2/everything?q=${query}&language=en&sortBy=popularity&apiKey=${API_KEY}`
    : `https://newsapi.org/v2/top-headlines?country=${country}&pageSize=20&apiKey=${API_KEY}`;

  const res = await fetch(url);
  const data = await res.json();
  document.getElementById("loading").style.display="none";

  data.articles.forEach((a,i)=>{
    if(!a.urlToImage) return;

    const card = document.createElement("div");
    card.className="card";
    card.innerHTML=`
      <img src="${a.urlToImage}">
      <div class="card-content">
        <span>${a.source.name}</span>
        <h3>${a.title}</h3>
        <a href="article.html?id=${i}&data=${encodeURIComponent(JSON.stringify(a))}">
          Read More ‚Üí
        </a>
      </div>
    `;
    document.getElementById("news").appendChild(card);
  });
}

document.getElementById("country").onchange=e=>{
  country=e.target.value;
  loadNews();
};

document.getElementById("search").onkeyup=e=>{
  if(e.key==="Enter") loadNews(e.target.value);
};

loadNews();
</script>

</body>
</html>
